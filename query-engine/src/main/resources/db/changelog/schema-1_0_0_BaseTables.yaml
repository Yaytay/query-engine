databaseChangeLog:
- changeSet:
    id: 1645774409578-2
    author: jtalbut (generated)
    runWith: jdbc
    changes:
    - createTable:
        tableName: request
        columns:
        - {column: {name: id, type: varchar(100), constraints: {nullable: false, primaryKey: true, primaryKeyName: pk_request}}}
        - {column: {name: timestamp, type: timestamp, constraints: {nullable: false}}}
        - {column: {name: processId, type: varchar(1000), constraints: {nullable: false}}}
        - {column: {name: url, type: varchar(1000), constraints: {nullable: false}}}
        - {column: {name: clientIp, type: varchar(40), constraints: {nullable: false}}}
        - {column: {name: host, type: varchar(260), constraints: {nullable: false}}}
        - {column: {name: arguments, type: clob, constraints: {nullable: false}}}
        - {column: {name: headers, type: clob, constraints: {nullable: false}}}
        - {column: {name: openIdDetails, type: clob, constraints: {nullable: true}}}
        - {column: {name: issuer, type: varchar(1000), constraints: {nullable: true}}}
        - {column: {name: subject, type: varchar(1000), constraints: {nullable: true}}}
        - {column: {name: username, type: varchar(500), constraints: {nullable: true}}}
        - {column: {name: groups, type: clob, constraints: {nullable: true}}}
        - {column: {name: filePath, type: varchar(500), constraints: {nullable: true}}}
        - {column: {name: fileSize, type: bigint, constraints: {nullable: true}}}
        - {column: {name: fileModified, type: timestamp, constraints: {nullable: true}}}
        - {column: {name: exceptionTime, type: timestamp, constraints: {nullable: true}}}
        - {column: {name: exceptionClass, type: varchar(1000), constraints: {nullable: true}}}
        - {column: {name: exceptionMessage, type: varchar(1000), constraints: {nullable: true}}}
        - {column: {name: exceptionStackTrace, type: clob, constraints: {nullable: true}}}
        - {column: {name: responseTime, type: timestamp, constraints: {nullable: true}}}
        - {column: {name: responseStreamStartMillis, type: bigint, constraints: {nullable: true}}}
        - {column: {name: responseDurationMillis, type: bigint, constraints: {nullable: true}}}
        - {column: {name: responseCode, type: smallint, constraints: {nullable: true}}}
        - {column: {name: responseRows, type: bigint, constraints: {nullable: true}}}
        - {column: {name: responseSize, type: bigint, constraints: {nullable: true}}}
        - {column: {name: responseHeaders, type: clob, constraints: {nullable: true}}}
        
    - createIndex:   
       indexName:  idx_request_timestamp
       tableName:  request
       columns:  
       - column:
          name:  timestamp
       unique:  false

    - createIndex:   
       indexName:  idx_request_clientIp_timestamp
       tableName:  request
       columns:  
       - column:
          name:  clientIp
       - column:
          name:  timestamp
       unique:  false

    - createIndex:   
       indexName:  idx_request_host_timestamp
       tableName:  request
       columns:  
       - column:
          name:  host
       - column:
          name:  timestamp
       unique:  false

    - createIndex:   
       indexName:  idx_request_username_timestamp
       tableName:  request
       columns:  
       - column:
          name:  username
       - column:
          name:  timestamp
       unique:  false

    - createIndex:   
       indexName:  idx_request_filePath_timestamp
       tableName:  request
       columns:  
       - column:
          name:  filePath
       - column:
          name:  timestamp
       unique:  false
