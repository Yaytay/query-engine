{
  "title": "Test Pipeline in JSON",
  "arguments": [
    {      
      "type": "String"
      , "name": "key"
    }
    , {
      "type": "Integer"
      , "name": "port"
    }
  ],
  "sourceEndpoints": {
    "MS SQL Server": {
      "urlTemplate": "sqlserver://localhost:<port>/test",
      "username": "sa",
      "password": "T0p-secret"
    },
    "MySQL": {
      "urlTemplate": "mysql://localhost:<port>/test",
      "username": "user",
      "password": "T0p-secret"
    }
    ,
    "PostgreSQL": {
      "urlTemplate": "postgresql://localhost:<port>/test",
      "username": "postgres",
      "password": "T0p-secret"
    }
  }
  ,
  "source": {    
    "type": "SQL",
    "endpointTemplate": "<key>",
    "streamingFetchSize": 7,
    "query": "select d.id, d.instant, l.value as ref, d.value from testData d join RefData l on d.lookup = l.id where d.id < 20 order by d.id"
  }
  ,
  "processors": [
    {
      "type":"GROUP_CONCAT",
      "delimiter":",",
      "parentIdColumn":"id",
      "innerJoin":false,
      "childIdColumn":"dataid",      
      "parentValueColumn":"children",      
      "childValueColumn":"value",
      "input": {
        "source": {    
          "type": "SQL",
          "endpointTemplate": "<key>",
          "streamingFetchSize": 10,
          "query": "select dataId, value from ManyData m join RefData r on r.id = m.refId where dataId < 20 order by dataId, sort"
        }
      }
    }
    , 
    {
      "type":"LIMIT",
      "limit":13
    }
  ]
  ,
  "formats": [{
    "type": "JSON"
  }]
}